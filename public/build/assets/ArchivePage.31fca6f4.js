import{P as b}from"./ProvinceLayout.a1543637.js";import{C as v}from"./ContentBox.b05d3d4e.js";import{a as i,D as y,c as _,g as x,U as C,k as j,r as m,o as n,d as e,f as D,b as l,q as f,t as s,F as g,e as B}from"./app.4da21ac3.js";import{h as M}from"./moment.9709ab41.js";import{_ as V}from"./_plugin-vue_export-helper.cdc0426e.js";import"./PendingTransactions.6e546873.js";import"./Dropdown.f2c554b9.js";import"./eprris.ccf75d97.js";const L={layout:b,components:{ContentBox:v},props:{incidents:Object,provinces:Object},setup(){const r=i(),a=i(),c=i(),o=i(),u=()=>{C.Inertia.get(j().url.value,{date:o.value},{preserveState:!0})};return y(r,d=>{axios.get("/api/municipalities/"+d.province).then(p=>c.value=p.data)}),{search:u,province:r,municipality:a,date:o,municipalities:c,tableHeader:[{name:"Incident"},{name:"File Name"},{name:"From"},{name:"Date"},{name:"Action"}],moment:M}}},F={class:"flex flex-row pt-2 space-x-10 justify-between pb-10"},H={class:"flex flex-row w-full space-x-10"},N={class:"table-auto w-full text-sm border-x-2 border-b-2 border-orange-200 text-gray-500 dark:text-gray-400"},P={class:"text-xs text-stone-900 text-center uppercase bg-orange-300 dark:bg-gray-700 dark:text-gray-400"},S={class:"flex flex-row justify-center py-1"},z={class:"max-h-full even:bg-orange-200 bg-white border-b dark:bg-gray-800 dark:border-gray-700"},A={scope:"row",class:"text-center p-4"},I={scope:"row",class:"text-center p-4"},O={scope:"row",class:"text-center p-4"},U={class:"text-center"},q={class:"text-center gap-"},E=["href"],Y=e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-5 h-5"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M2.036 12.322a1.012 1.012 0 010-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178z"}),e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})],-1),G=[Y],J=e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-5 h-5"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0"})],-1);function K(r,a,c,o,u,k){const d=m("Datepicker"),p=m("inertia-link"),w=m("Content-box");return n(),_(w,{class:"h-fit p-7 flex flex-col space-y-3"},{default:x(()=>[e("div",F,[e("div",H,[D(d,{modelValue:o.date,"onUpdate:modelValue":a[0]||(a[0]=t=>o.date=t),"show-now-button":"",class:"w-1/5","enable-time-picker":!1,"aria-placeholder":"Date"},null,8,["modelValue"])]),e("button",{class:"bg-button px-2 text-white rounded justify-end",onClick:a[1]||(a[1]=(...t)=>o.search&&o.search(...t))}," Search ")]),e("table",N,[e("thead",P,[e("tr",null,[(n(!0),l(g,null,f(o.tableHeader,(t,h)=>(n(),l("th",{scope:"col",class:"py-2 px-6",key:h},[e("div",S,[e("span",null,s(t.name),1)])]))),128))])]),e("tbody",null,[(n(!0),l(g,null,f(c.incidents.data,(t,h)=>(n(),l("tr",z,[e("td",A,s(t.incident),1),e("td",I,s(t.filename),1),e("td",O,s(t.municipality),1),e("td",U,s(o.moment(t.submitted_at).format("MMMM DD Y")),1),e("td",q,[e("a",{href:"/report/"+t.id,type:"button",target:"_blank",class:"mr-4 font-medium text-green-600 dark:text-orange-500 hover:underline"},G,8,E),r.$page.props.auth.user.assign_office.municipality?(n(),_(p,{key:0,method:"delete",type:"button",class:"font-medium text-red-600 dark:text-orange-500 hover:underline",href:"/province/incident/"+t.id},{default:x(()=>[J]),_:2},1032,["href"])):B("",!0)])]))),256))])])]),_:1})}const te=V(L,[["render",K]]);export{te as default};
