import{P as I}from"./ProvinceLayout.a1543637.js";import{L as P}from"./MunicipalityLayout.87377acb.js";import{H as B,a as u,D as m,b as i,f as l,d as t,t as s,g as w,F as h,r as _,o as d,q as v,e as M,U as x,k as b,v as D,x as H}from"./app.4da21ac3.js";import{C as A}from"./ContentBox.b05d3d4e.js";import{_ as U,S as E}from"./StatusModal.03c84b1e.js";import{_ as O}from"./Pagination.7761bf9d.js";import{h as T}from"./moment.9709ab41.js";import{A as N}from"./AdminLayout.48f23481.js";import{_ as F}from"./_plugin-vue_export-helper.cdc0426e.js";import"./PendingTransactions.6e546873.js";import"./Dropdown.f2c554b9.js";import"./eprris.ccf75d97.js";import"./dialog.03b76927.js";import"./transition.11289989.js";const Y={layout:(r,a)=>!a.props.auth.user.assign_office.municipality&&!a.props.auth.user.assign_office.province?r(N,()=>a):a.props.auth.user.assign_office.municipality?r(P,()=>a):r(I,()=>a),components:{ContentBox:A,EditModal:U,Pagination:O,Head:B,StatusModal:E},props:{equipments:Object,owned:Object,borrow:Object,tracks:Object,myMuni:String},setup(){const r=[{name:"category"},{name:"Model number"},{name:"Serial number"},{name:"Unit"},{name:"Code"},{name:"Asset ID"},{name:"Action"}],a=u(),n=u(),o=u(),f=u(),k=u({});return m(a,c=>{x.Inertia.get(b().url.value,{search:c},{preserveState:!0})}),m(n,c=>{x.Inertia.get(b().url.value,{status:c},{preserveState:!0})}),m(o,c=>{x.Inertia.get(b().url.value,{category:c},{preserveState:!0})}),m(f,c=>{x.Inertia.get(b().url.value,{date:c},{preserveState:!0})}),{tableHeader:r,moment:T,search:a,equipmentStatus:n,category:o,date:f,collapsible:k}}},p=r=>(D("data-v-d6a8d58e"),r=r(),H(),r),R={class:"flex flex-col justify-end h-fit p-5"},z={class:"text-xl font-bold"},G={class:"text-xl font-bold"},J={class:"box-content flex flex-col w-full space-y-3"},K=p(()=>t("span",{class:"text-xl text-start font-semibold border-b-2 border-gray-100 p-3"}," Attributes ",-1)),Q={class:"flex flex-row place-content-end space-x-10 border-b-gray-100 p-3 border-b-2"},W={class:"relative"},X={class:"table-auto w-full text-sm border-x border-orange-200 text-gray-500 dark:text-gray-400"},Z={class:"text-xs text-gray-700 text-center uppercase bg-orange-300 dark:bg-gray-700 dark:text-gray-400"},$={class:"max-h-full even:bg-gray-200 bg-white border-b drop-shadow dark:bg-gray-800 dark:border-gray-700"},tt={scope:"row",class:"text-center p-4"},et={class:"text-center"},st={class:"text-center"},ot={class:"text-center"},at={class:"text-center"},rt={class:"text-center"},nt={class:"text-center"},lt=["onClick"],ct=p(()=>t("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-5 h-5"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M19.5 8.25l-7.5 7.5-7.5-7.5"})],-1)),it=[ct],dt={key:0,class:"m-4 border max-h-full shadow bg-gray-50 dark:bg-gray-800 dark:border-gray-700"},_t={scope:"row",class:"text-center p-4"},pt={class:"flex flex-col"},ut=p(()=>t("span",{class:"text-slate-500"}," Serviceable ",-1)),mt={class:""},ht={scope:"row",class:"text-center p-4"},xt={class:"flex flex-col"},bt=p(()=>t("span",{class:"text-slate-500"}," Poor ",-1)),ft={class:""},gt={scope:"row",class:"text-center p-4"},wt={class:"flex flex-col"},vt=p(()=>t("span",{class:"text-slate-500"}," Unusable ",-1)),kt={class:""},yt={key:0,class:"text-center"},St={href:"javascript:void(0)",type:"button",class:"font-medium text-orange-600 dark:text-orange-500 hover:underline flex flex-row justify-center space-x-4"},Mt={class:"bg-white"},Ct=p(()=>t("span",{class:"text-xl font-semibold p-4"}," Transaction History ",-1)),jt={class:"table-auto w-full text-sm border-x text-gray-500 dark:text-gray-400"},qt=p(()=>t("thead",{class:"text-xs text-gray-700 text-center uppercase bg-orange-300 dark:bg-gray-700 dark:text-gray-400"},[t("tr",null,[t("th",{scope:"col",rowspan:"2",class:"text-base p-2 border-r-2"}," municipality "),t("th",{scope:"col",rowspan:"1",colspan:"2",class:"text-base p-2"}," TOTAL "),t("th",{scope:"col",rowspan:"1",colspan:"3",class:"text-base p-2 border-x-2 border-b-2"}," Status "),t("th",{scope:"col",rowspan:"1",colspan:"2",class:"text-base p-2 border-b-2"}," Date "),t("th",{scope:"col",rowspan:"2",colspan:"",class:"text- p-2 border-l-2"}," Action ")]),t("tr",{class:""},[t("th",{scope:"col",rowspan:"1",colspan:"1",class:"text-sm p-2 border-t-2"},"borrowed"),t("th",{scope:"col",rowspan:"1",colspan:"1",class:"text-sm p-2 border-r-2 border-t-2"},"return"),t("th",{scope:"col",rowspan:"1",colspan:"1",class:"text-sm p-2"},"Serviceable"),t("th",{scope:"col",rowspan:"1",colspan:"1",class:"text-sm p-2"},"Unusable"),t("th",{scope:"col",rowspan:"1",colspan:"1",class:"text-sm p-2 border-r-2"},"Poor"),t("th",{scope:"col",rowspan:"1",colspan:"1",class:"text-sm p-2 border-r-2"},"borrowed"),t("th",{scope:"col",rowspan:"1",colspan:"1",class:"text-sm p-2"},"return")])],-1)),Lt={class:"max-h-full even:bg-gray-200 bg-white border-b dark:bg-gray-800 dark:border-gray-700"},Vt={scope:"row",class:"text-center p-4"},It={class:"text-lg font-semibold"},Pt={class:"block text-sm"},Bt={class:"text-center"},Dt={class:"text-center"},Ht={class:"text-center"},At={class:"text-center"},Ut={class:"text-center"},Et={class:"text-center"},Ot={class:"text-center"},Tt={class:"text-center"},Nt=p(()=>t("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-5 h-5 text-orange-300"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M3.75 3.75v4.5m0-4.5h4.5m-4.5 0L9 9M3.75 20.25v-4.5m0 4.5h4.5m-4.5 0L9 15M20.25 3.75h-4.5m4.5 0v4.5m0-4.5L15 9m5.25 11.25h-4.5m4.5 0v-4.5m0 4.5L15 15"})],-1)),Ft={class:"bg-white"};function Yt(r,a,n,o,f,k){const c=_("Head"),C=_("v-select"),j=_("Datepicker"),q=_("EditModal"),L=_("StatusModal"),y=_("Pagination"),S=_("Content-box"),V=_("inertia-link");return d(),i(h,null,[l(c,{title:n.equipments.name},null,8,["title"]),t("div",R,[t("span",z,s(n.myMuni),1),t("span",G,s(n.equipments.name),1)]),l(S,{class:"h-fit"},{default:w(()=>[t("div",J,[K,t("div",Q,[l(C,{options:["Serviceable","Poor","Unusable"],placeholder:"Status",class:"w-1/3",modelValue:o.equipmentStatus,"onUpdate:modelValue":a[0]||(a[0]=e=>o.equipmentStatus=e)},null,8,["modelValue"]),l(j,{modelValue:o.date,"onUpdate:modelValue":a[1]||(a[1]=e=>o.date=e),"enable-time-picker":!1,"no-hours-overlay":"","is-24":!1},null,8,["modelValue"])]),t("div",W,[t("table",X,[t("thead",Z,[t("tr",null,[(d(!0),i(h,null,v(o.tableHeader,(e,g)=>(d(),i("th",{scope:"col",class:"py-3 px-6",key:g},s(e.name),1))),128))])]),(d(!0),i(h,null,v(n.owned.data,(e,g)=>(d(),i("tbody",null,[t("tr",$,[t("td",tt,s(e.category),1),t("td",et,s(e.model_number),1),t("td",st,s(e.serial_number),1),t("td",ot,s(e.unit),1),t("td",at,s(e.code),1),t("td",rt,s(e.asset_id),1),t("td",nt,[t("button",{onClick:Rt=>o.collapsible=o.collapsible===e?"":e,type:"button",class:"font-medium dark:text-orange-500 hover:underline"},it,8,lt)])]),Object.keys(o.collapsible).length!==0&&o.collapsible.serial_number===e.serial_number?(d(),i("tr",dt,[t("td",_t,[t("div",pt,[ut,t("span",mt,s(e.serviceable),1)])]),t("td",ht,[t("div",xt,[bt,t("span",ft,s(e.poor),1)])]),t("td",gt,[t("div",wt,[vt,t("span",kt,s(e.unserviceable),1)])]),r.$page.props.auth.user.assign_office.municipality?(d(),i("td",yt,[t("div",St,[l(q,{form:e},null,8,["form"]),l(L,{detail_id:e.detail_id},null,8,["detail_id"])])])):M("",!0)])):M("",!0)]))),256))]),t("div",Mt,[l(y,{links:n.owned.links},null,8,["links"])])])])]),_:1}),l(S,null,{default:w(()=>[Ct,t("table",jt,[qt,t("tbody",null,[(d(!0),i(h,null,v(n.borrow.data,(e,g)=>(d(),i("tr",Lt,[t("td",Vt,[t("span",It,s(e.municipality),1),t("span",Pt,s(e.borrower),1)]),t("td",Bt,s(e.total_borrow),1),t("td",Dt,s(e.total_return),1),t("td",Ht,s(e.serviceable),1),t("td",At,s(e.unserviceable),1),t("td",Ut,s(e.poor),1),t("td",Et,s(o.moment(e.date_borrow).format("MMMM DD Y, H:m:a")),1),t("td",Ot,s(e.date_returned)+" "+s(o.moment(e.date_returned).isValid()?o.moment(e.date_returned):"Not Yet Returned"),1),t("td",Tt,[l(V,{href:"/borrow-attrs/"+e.eqip_id,type:"button",class:"font-medium text-orange-600 dark:text-orange-500 hover:underline"},{default:w(()=>[Nt]),_:2},1032,["href"])])]))),256))])]),t("div",Ft,[l(y,{links:n.borrow.links},null,8,["links"])])]),_:1})],64)}const re=F(Y,[["render",Yt],["__scopeId","data-v-d6a8d58e"]]);export{re as default};
