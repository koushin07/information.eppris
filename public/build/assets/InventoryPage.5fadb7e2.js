import{H as A,a as c,k as p,h as j,D as x,p as q,Q as L,_ as O,b as r,f as m,d as e,t as a,F as y,q as B,g as k,R as V,r as _,o as d,e as F,z as P,W as T,U as h,v as D,x as R}from"./app.4da21ac3.js";import{_ as H}from"./CreateModal.83f27329.js";import{C as N}from"./ContentBox.b05d3d4e.js";import{_ as U}from"./Table.90299598.js";import{A as z}from"./AdminLayout.48f23481.js";import{_ as Q}from"./Pagination.7761bf9d.js";import"./auto.90fd399d.js";import{_ as W}from"./Dropdown.f2c554b9.js";import{_ as Y}from"./InvoiceModal.00ccd0b5.js";import{h as G}from"./moment.9709ab41.js";import{_ as J}from"./_plugin-vue_export-helper.cdc0426e.js";import"./dialog.03b76927.js";import"./transition.11289989.js";import"./eprris.ccf75d97.js";/* empty css                                                                          */const K={layout:z,components:{CreateModal:H,Pagination:Q,Head:A,ContentBox:N,Table:U,Dropdown:W,InvoiceModal:Y},props:{criticals:Object,status:Object,equipments:Object,name:Object,filters:[Array,Object],municipalities:Array},setup({filters:u,status:o,equipments:l}){c(p().url.value);const i=c(""),S=c({}),C=c(),M=[{name:"equipment"},{name:"available"},{name:"damages"},{name:"municipality"},{name:"date Recieved"},{name:"action"}],f=c(["serviceable","poor","unserviceable"]),g=c(new Date),v=c(),b=c(),E=()=>{V.get("/api/invoice-data").then(s=>{console.log(s),alert(" done")})},t=j(()=>{const s=Math.floor(o.serviceable/o.total*100),w=Math.floor(o.unserviceable/o.total*100),I=Math.floor(o.poor/o.total*100);return{serviceable:s,unserviceable:w,poor:I}});return x(C,s=>{h.Inertia.get(p().url.value,{municipality:s},{preserveState:!0})}),x(i,s=>{h.Inertia.get(p().url.value,{search:s},{preserveState:!0})}),x(v,s=>{h.Inertia.get(p().url.value,{status:s},{preserveState:!0})}),x(b,s=>{h.Inertia.get(p().url.value,{category:s},{preserveState:!0})}),x(g,s=>{h.Inertia.get(p().url.value,{date:s},{preserveState:!0})}),q(()=>{const s=document.getElementById("myChart").getContext("2d");new L(s,{type:"doughnut",data:{labels:f,datasets:[{label:"Status",data:[t.value.serviceable,t.value.poor,t.value.unserviceable],borderWidth:1,backgroundColor:["#FFA34E","#BA882F","#7E6B19"],borderColor:["#FFA34E","#BA882F","#7E6B19"]}]},options:{plugins:{tooltip:{enabled:!1},datalabels:{align:"end",formatter:(w,I)=>(console.log(w),`${w}% 
${f.value[I.dataIndex]} `),labels:{title:{font:{size:10}}}}},maintainAspectRatio:!1,legend:{display:!1,title:{display:!1}}},plugins:[O]})}),{municipality:C,tableHead:M,search:i,download:E,date:g,tableBody:S,equipmentStatus:v,category:b,moment:G}}},n=u=>(D("data-v-5a768e73"),u=u(),R(),u),X={class:"flex flex-col mx-10 mt-4 gap-10"},Z={class:"flex flex-col justify-end h-fit"},$=n(()=>e("span",{class:"text-xl font-bold"}," TOTAL EQUIPMENT ",-1)),ee={class:"text-5xl",style:{"font-family":"century-gothic, sans-serif"}},te={class:"flex flex-col w-full"},se={class:"flex flex-col-reverse md:flex-row gap-7 justify-end w-full"},ae={class:"flex flex-row justify-between w-full"},oe={class:"flex bg-white flex-col space-y-10 content-box py-6 px-4 rounded-xl shadow-5 shadow-sm w-[200px] lg:w-[250px] h-fit"},ne=n(()=>e("span",{class:"text-slate-600 text-lg font-bold tracking-wider"},"SERVICEABLE",-1)),le={class:"text-center mt-4 lining-nums text-slate-700 text-3xl font-semibod tracking-wider"},ie={class:"flex bg-white flex-col space-y-10 content-box py-6 px-4 rounded-xl shadow-5 w-[200px] lg:w-[250px] h-fit"},ce=n(()=>e("span",{class:"text-slate-600 text-lg font-bold tracking-wider"},"POOR",-1)),re={class:"text-center mt-4 lining-nums text-slate-700 text-3xl font-semibod tracking-wider"},de={class:"flex bg-white flex-col space-y-10 content-box py-6 px-4 rounded-xl shadow-5 w-[200px] lg:w-[250px] h-fit"},ue=n(()=>e("span",{class:"text-slate-600 text-lg font-bold tracking-wider"},"UNSERVICEABLE",-1)),pe={class:"text-center mt-4 lining-nums text-slate-700 text-3xl font-semibod tracking-wider"},me={class:"flex flex-row space-x-6 h-[250px] md:h-[300px]"},_e=n(()=>e("div",{class:"grid place-content-center content-box px-4 rounded-xl bg-white shadow-5 mt-4"},[e("div",{class:"h-[250px] md:h-[250px] py-2 md:w-[300px]"},[e("canvas",{id:"myChart"})])],-1)),xe={class:"py-2 flex flex-col w-full content-box px-4 rounded-xl bg-white shadow-5 mt-4"},he=n(()=>e("span",{class:"font-bold text-lg mb-6 text-red-500"},"On Critical Condition Equipment",-1)),fe={class:"w-full divide-y divide-gray-200 dark:divide-gray-700"},ge={class:"pb-3 sm:pb-4"},ve={key:0,class:"flex items-center space-x-4"},be={class:"flex-1 min-w-0"},we=n(()=>e("p",{class:"text-sm font-medium text-gray-500 truncate dark:text-white"}," Equipment ",-1)),ye={class:"text-sm text-gray-900 truncate font-semibold dark:text-gray-400"},ke={class:"flex flex-col min-w-0 justify-end"},Ce=n(()=>e("p",{class:"text-sm font-medium text-gray-500 truncate dark:text-white"}," Remainings ",-1)),Me={class:"text-sm text-gray-900 truncate font-semibold dark:text-gray-400 text-end"},Ee={class:"flex flex-col space-y-5"},Ie={class:"flex flex-row justify-between"},Be={class:"relative col-span-2 md:col-span-1"},Se={class:"relative w-full max-w-xl mr-6 focus-within:text-purple-500"},Ae=n(()=>e("div",{class:"absolute inset-y-0 flex items-center pl-2"},[e("svg",{class:"w-4 h-4","aria-hidden":"true",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{"fill-rule":"evenodd",d:"M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z","clip-rule":"evenodd"})])],-1)),je={class:"my-1 w-44"},qe=n(()=>e("hr",null,null,-1)),Le={class:"relative"},Oe={class:"flex flex-row justify-center py-1"},Ve={class:"max-h-full even:bg-orange-200 bg-white border-b dark:bg-gray-800 dark:border-gray-700"},Fe={scope:"row",class:"text-center p-4"},Pe={class:"text-center"},Te={class:"text-center"},De={class:"text-center"},Re={class:"text-center"},He={class:"text-center"},Ne=n(()=>e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-5 h-5"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M3.75 3.75v4.5m0-4.5h4.5m-4.5 0L9 9M3.75 20.25v-4.5m0 4.5h4.5m-4.5 0L9 15M20.25 3.75h-4.5m4.5 0v4.5m0-4.5L15 9m5.25 11.25h-4.5m4.5 0v-4.5m0 4.5L15 15"})],-1)),Ue={class:"bg-white"};function ze(u,o,l,i,S,C){const M=_("Head"),f=_("v-select"),g=_("inertia-link"),v=_("Table"),b=_("Pagination"),E=_("ContentBox");return d(),r(y,null,[m(M,{title:"Tansaction"}),e("div",X,[e("div",Z,[$,e("span",ee,a(l.status.total),1)]),e("div",te,[e("div",se,[e("div",ae,[e("div",oe,[ne,e("span",le,a(l.status.serviceable),1)]),e("div",ie,[ce,e("span",re,a(l.status.poor),1)]),e("div",de,[ue,e("span",pe,a(l.status.unserviceable),1)])])]),e("div",me,[_e,e("div",xe,[he,e("ul",fe,[(d(!0),r(y,null,B(l.criticals,(t,s)=>(d(),r("li",ge,[t?(d(),r("div",ve,[e("div",be,[we,e("p",ye,a(s),1)]),e("div",ke,[Ce,e("p",Me,a(t),1)])])):F("",!0)]))),256))])])])])]),m(E,{class:"h-full p-2"},{default:k(()=>[e("div",Ee,[e("div",Ie,[e("div",Be,[e("div",Se,[Ae,P(e("input",{"onUpdate:modelValue":o[0]||(o[0]=t=>i.search=t),class:"w-full pl-8 pr-2 text-sm text-gray-700 placeholder-gray-600 bg-gray-100 border-0 rounded-md dark:placeholder-gray-500 dark:focus:shadow-outline-gray dark:focus:placeholder-gray-600 dark:bg-gray-700 dark:text-gray-200 focus:placeholder-gray-500 focus:bg-white focus:border-purple-300 focus:outline-none focus:shadow-outline-purple form-input",type:"text",placeholder:"Search for Equipment","aria-label":"Search"},null,512),[[T,i.search]])])]),e("div",je,[m(f,{options:l.municipalities,modelValue:i.municipality,"onUpdate:modelValue":o[1]||(o[1]=t=>i.municipality=t),placeholder:"Municipalities",label:"municipality"},null,8,["options","modelValue"])])]),qe,e("div",Le,[m(v,null,{header:k(()=>[e("tr",null,[(d(!0),r(y,null,B(i.tableHead,(t,s)=>(d(),r("th",{scope:"col",class:"py-3 px-6",key:s},[e("div",Oe,[e("span",null,a(t.name),1)])]))),128))])]),body:k(()=>[(d(!0),r(y,null,B(l.equipments.data,(t,s)=>(d(),r("tr",Ve,[e("td",Fe,a(t.name),1),e("td",Pe,a(t.available),1),e("td",Te,a(t.damages),1),e("td",De,a(t.municipality),1),e("td",Re,a(i.moment(t.recieved_at).format("MMMM DD Y")),1),e("td",He,[m(g,{type:"button",href:u.route("rdrrmc.consolidated.show",t.id),data:{municipality:t.municipality},class:"font-medium text-orange-600 dark:text-orange-500 hover:underline"},{default:k(()=>[Ne]),_:2},1032,["href","data"])])]))),256))]),_:1}),e("div",Ue,[m(b,{links:l.equipments.links},null,8,["links"])])])])]),_:1})],64)}const lt=J(K,[["render",ze],["__scopeId","data-v-5a768e73"]]);export{lt as default};
