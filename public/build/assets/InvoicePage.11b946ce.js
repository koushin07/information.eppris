import{L as C}from"./MunicipalityLayout.87377acb.js";import{_ as Q}from"./Table.90299598.js";import{C as j}from"./ContentBox.b05d3d4e.js";import{_ as B,a as I}from"./AddIncident.db455ad4.js";import{_ as S}from"./QuantityModal.c58d5f9b.js";import{c as f,g,U as h,m as M,r as u,o as n,d as t,t as o,f as w,b as a,q as k,F as b,e as l}from"./app.4da21ac3.js";import{_ as z}from"./PersonInfoModal.015e8447.js";import{h as A}from"./moment.9709ab41.js";import{_ as H}from"./_plugin-vue_export-helper.cdc0426e.js";import"./PendingTransactions.6e546873.js";import"./Dropdown.f2c554b9.js";import"./eprris.ccf75d97.js";/* empty css                                                                          */import"./dialog.03b76927.js";import"./transition.11289989.js";import"./EquipmentList.141cc032.js";import"./combobox.d95f5ac2.js";import"./ProvinceList.3d2bb4c3.js";const L={layout:C,components:{PersonInfoModal:z,ContentBox:j,Table:Q,newIncident:B,AddIncident:I,QuantityModal:S},props:{equipments:Object,incident:String,equipments_drowpdown:Object,provinces:Object,summary:String,detail_id:String},setup(){return{tableHeader:[{name:"equipment"},{name:"municipality"},{name:"status"},{name:"borrowed Qty"},{name:"approved Qty"},{name:"action"}],getQuantity:(r,c)=>{axios.post("/api/confirm-quantity",{quantity:r.value,transaction:c}).then(d=>{h.Inertia.reload(),M.emit("reconfirm")}),h.Inertia.reload()},pop:r=>{alert(r)},back:()=>{window.history.back()},moment:A,fullname:(r,c,d,m)=>{const x=r||"",e=c||"",_=d?d.charAt(0):"";return`${e} ${_} ${x} ${m||""}`}}}},N={class:"flex flex-row w-fit text-xl px-2 rounded border-2 border-gray-400"},O=t("button",null,[t("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6 text-gray-700"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M19.5 12h-15m0 0l6.75 6.75M4.5 12l6.75-6.75"})])],-1),P=t("span",{class:"cursor-pointer text-gray-700"},"back",-1),V=[O,P],D={class:"flex flex-row justify-between m-4 z-10"},F={class:"text-lg font-bold"},$=t("button",{class:"bg-button px-2 py-1 rounded-md grid grid-flow-col panel-content-center gap-1"},[t("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",class:"w-5 h-5 text-white"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 4.5v15m7.5-7.5h-15"})]),t("span",{class:"text-center text-white"},"Add")],-1),E={class:"table-auto w-full text-sm border-x border-b border-orange-200 text-gray-500 dark:text-orange-400"},T={class:"text-xs text-gray-700 text-center uppercase bg-orange-300 dark:bg-gray-700 dark:text-gray-400"},U={class:"max-h-full even:bg-orange-200 text-orange-600 even:text-slate-600 bg-white border-b dark:bg-gray-800 dark:border-gray-700"},G={scope:"row",class:"text-center p-4"},J={class:"text-center"},K={class:"text-center"},R={key:0,class:"text-green-500"},W=["onClick"],X={key:2,class:"text-gray-500"},Y={key:3,class:"text-green-600"},Z={class:"text-center"},tt={class:"text-center"},et={class:"text-center"},nt={class:"flex flex-row justify-center"},ot=t("button",{class:"bg-orange-600 px-2 text-white font-semibold rounded"}," Proceed ",-1);function st(y,p,s,i,v,r){const c=u("add-incident"),d=u("person-info-modal"),m=u("Quantity-modal"),x=u("content-box");return n(),f(x,null,{default:g(()=>[t("div",N,[t("div",{onClick:p[0]||(p[0]=(...e)=>i.back&&i.back(...e)),class:"flex flex-row"},V)]),t("div",D,[t("span",F,o(s.incident),1),w(c,{equipments:s.equipments_drowpdown,detail:s.detail_id,incident:s.incident,incident_summary:s.summary,provinces:s.provinces},{trigger:g(()=>[$]),_:1},8,["equipments","detail","incident","incident_summary","provinces"])]),t("table",E,[t("thead",T,[t("tr",null,[(n(!0),a(b,null,k(i.tableHeader,(e,_)=>(n(),a("th",{scope:"col",class:"py-3 px-10 capitalize",key:_},o(e.name),1))),128))])]),t("tbody",null,[(n(!0),a(b,null,k(s.equipments.data,(e,_)=>(n(),a("tr",U,[t("td",G,o(e.name),1),t("td",J,o(e.municipality),1),t("td",K,[e.status==="accepted"?(n(),a("span",R,o(e.status),1)):l("",!0),e.status==="declined"?(n(),a("button",{key:1,onClick:q=>i.pop(e.reason),class:"text-red-500 underline"}," Declined ",8,W)):l("",!0),e.status==="pending"?(n(),a("span",X,o(e.status),1)):l("",!0),e.status==="return"?(n(),a("span",Y,o(e.status)+"ed ",1)):l("",!0)]),t("td",Z,o(e.acquired?e.acquired:0),1),t("td",tt,o(e.authorize_quantity),1),t("td",et,[t("div",nt,[w(d,{body:e},null,8,["body"])]),e.status==="accepted"&&e.acquired===0?(n(),f(m,{key:0,muni:e,onSubmit:i.getQuantity},{trigger:g(()=>[ot]),_:2},1032,["muni","onSubmit"])):l("",!0)])]))),256))])])]),_:1})}const vt=H(L,[["render",st]]);export{vt as default};
