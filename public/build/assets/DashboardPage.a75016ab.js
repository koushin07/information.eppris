import{p as w,Q as C,o as u,b as g,a as p,h as I,k as d,U as c,d as e,f,s as D,t as o,g as S,T as j,z as _,W as M,F as v,q as x,r as y,A as z}from"./app.4da21ac3.js";import"./auto.90fd399d.js";import{_ as k}from"./_plugin-vue_export-helper.cdc0426e.js";import{C as T}from"./ContentBox.b05d3d4e.js";import{P as B}from"./ProvinceLayout.a1543637.js";import{h as P}from"./moment.9709ab41.js";import{_ as V}from"./Pagination.7761bf9d.js";import"./PendingTransactions.6e546873.js";import"./Dropdown.f2c554b9.js";import"./eprris.ccf75d97.js";const L={props:{},setup(){return w(()=>{const i=document.getElementById("transaction");new C(i,{type:"line",data:{labels:["Total","denied","confirmed"],datasets:[{label:"# Total",data:[10,2,5],backgroundColor:["rgba(255, 99, 132, 0.2)","rgba(54, 162, 235, 0.2)","rgba(255, 206, 86, 0.2)","rgba(75, 192, 192, 0.2)","rgba(153, 102, 255, 0.2)"],borderColor:["rgba(255, 99, 132, 1)","rgba(54, 162, 235, 1)","rgba(255, 206, 86, 1)","rgba(75, 192, 192, 1)","rgba(153, 102, 255, 1)"],borderWidth:1}]},options:{scales:{y:{beginAtZero:!0}}}})}),{}}},q={id:"transaction"};function E(i,r,s,a,n,l){return u(),g("canvas",q)}const F=k(L,[["render",E]]),N={layout:B,components:{ContentBox:T,TransactionChart:F,Pagination:V},props:{locals:Object,regionals:Object,reports:Object},setup({locals:i}){let r=p("");const s=p("Filter"),a=p(!1),n=p(),l=p(),b=()=>{l&&c.Inertia.get(d().url.value,{date:l.value},{preserveState:!0}),s.value==="name"&&(d().url.value.includes("id")?c.Inertia.get("/province/dashboard",{name:n.value},{preserveState:!0}):c.Inertia.get(d().url.value,{name:n.value},{preserveState:!0})),s.value==="ID"&&(d().url.value.includes("name")?c.Inertia.get("/province/dashboard",{id:n.value,date:l.value},{preserveState:!0}):c.Inertia.get(d().url.value,{id:n.value,date:l.value},{preserveState:!0}))},h=[{name:"Subject ID"},{name:"Subject"},{name:"From"},{name:"To"},{name:"Equipment"},{name:"Date"},{name:"sit. rep."}];let t=I(()=>r.value===""?i.data:i.data.sort((m,ve)=>equipment.name.toLowerCase().replace(/\s+/g,"").includes(r.value.toLowerCase().replace(/\s+/g,""))));return window.Echo.private(`child.transacton.${d().props.value.auth.user.id}`).listen(".child.trans",m=>{c.Inertia.reload({only:["locals"]})}),{searchInput:n,moment:P,date:l,localHeader:h,filter:s,query:r,filteredLocal:t,drop:a,search:b}}},H={class:"flex flex-col pt-6"},O=e("span",{class:"text-xl font-bold p-2"},"Transactions",-1),U={class:"flex gap-2 justify-between mb-2"},A={class:"w-2/4"},W={class:"flex"},Y=e("label",{for:"location-search",class:"mb-2 text-sm font-medium text-gray-900 sr-only dark:text-white"},"Your Email",-1),Q=e("svg",{"aria-hidden":"true",class:"w-4 h-4 ml-1",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},[e("path",{"fill-rule":"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z","clip-rule":"evenodd"})],-1),Z={class:"ring-1 ring-black ring-opacity-5 z-10 bg-white divide-y divide-gray-100 rounded shadow w-44 dark:bg-gray-700"},G={class:"py-1 text-sm text-gray-700 dark:text-gray-200","aria-labelledby":"dropdown-button-2"},J=e("div",{class:"inline-flex items-center"}," Incident Name ",-1),K=[J],R=e("div",{class:"inline-flex items-center"}," Incident ID ",-1),X=[R],$={class:"relative w-full"},ee=e("svg",{"aria-hidden":"true",class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})],-1),te=e("span",{class:"sr-only"},"Search",-1),re=[ee,te],ae={class:"table-auto w-full text-sm border-x-2 border-b-2 border-orange-200 text-gray-500 dark:text-gray-400"},oe={class:"text-xs text-stone-900 text-center uppercase bg-orange-300 dark:bg-gray-700 dark:text-gray-400"},se={class:"flex flex-row justify-center py-1"},ne={class:"max-h-full even:bg-orange-200 bg-white border-b dark:bg-gray-800 dark:border-gray-700"},le={scope:"row",class:"text-center p-4"},ie={scope:"row",class:"text-center p-4"},de={class:"text-center"},ce={class:"text-center"},ue={class:"text-center"},ge={class:"text-center"},pe={class:"text-center"},me=["href"],be=e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-5 h-5"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M2.036 12.322a1.012 1.012 0 010-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178z"}),e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})],-1),he=[be],fe={class:"bg-white"};function _e(i,r,s,a,n,l){const b=y("Datepicker"),h=y("Pagination");return u(),g("div",H,[O,e("div",U,[f(b,{modelValue:a.date,"onUpdate:modelValue":r[0]||(r[0]=t=>a.date=t),class:"w-1/8 h-8 rounded",placeholder:"Input Date Here"},null,8,["modelValue"]),e("div",A,[e("div",W,[Y,e("button",{onClick:r[1]||(r[1]=t=>a.drop=!a.drop),class:"flex-shrink-0 z-10 inline-flex items-center py-2.5 px-4 text-sm font-medium text-center text-gray-500 bg-gray-100 border border-gray-300 rounded-l-lg hover:bg-gray-200 focus:ring-4 focus:outline-none focus:ring-gray-100 dark:bg-gray-700 dark:hover:bg-gray-600 dark:focus:ring-gray-700 dark:text-white dark:border-gray-600",type:"button"},[D(o(a.filter)+" ",1),Q]),f(j,{"enter-active-class":"transition ease-out duration-200","enter-from-class":"transform opacity-0 scale-95","enter-to-class":"transform opacity-100 scale-100","leave-active-class":"transition ease-in duration-75","leave-from-class":"transform opacity-100 scale-100","leave-to-class":"transform opacity-0 scale-95"},{default:S(()=>[_(e("div",{class:"absolute z-40 mt-10 rounded-md shadow-lg",style:{display:"none"},onClick:r[4]||(r[4]=t=>a.drop=!1)},[e("div",Z,[e("ul",G,[e("li",null,[e("button",{type:"button",onClick:r[2]||(r[2]=t=>a.filter="name"),class:"inline-flex w-full px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 dark:text-gray-400 dark:hover:bg-gray-600 dark:hover:text-white",role:"menuitem"},K)]),e("li",null,[e("button",{type:"button",onClick:r[3]||(r[3]=t=>a.filter="ID"),class:"inline-flex w-full px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 dark:text-gray-400 dark:hover:bg-gray-600 dark:hover:text-white",role:"menuitem"},X)])])])],512),[[z,a.drop]])]),_:1}),e("div",$,[_(e("input",{type:"search","onUpdate:modelValue":r[5]||(r[5]=t=>a.searchInput=t),class:"block p-2.5 w-full z-20 text-sm text-gray-900 bg-gray-50 rounded-r-lg border-l-gray-50 border-l-2 border border-gray-300 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-l-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:border-blue-500",placeholder:"Search....",required:""},null,512),[[M,a.searchInput]]),e("button",{onClick:r[6]||(r[6]=(...t)=>a.search&&a.search(...t)),class:"absolute top-0 right-0 p-2.5 text-sm font-medium text-white bg-blue-700 rounded-r-lg border border-blue-700 hover:bg-blue-800 focus:outline-none focus:ring-blue-300 dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800"},re)])])])]),e("table",ae,[e("thead",oe,[e("tr",null,[(u(!0),g(v,null,x(a.localHeader,(t,m)=>(u(),g("th",{scope:"col",class:"py-3 px-6",key:m},[e("div",se,[e("span",null,o(t.name),1)])]))),128))])]),e("tbody",null,[(u(!0),g(v,null,x(s.locals.data,(t,m)=>(u(),g("tr",ne,[e("td",le,o(t.incident_id),1),e("td",ie,o(t.incident),1),e("td",de,o(t.borrower),1),e("td",ce,o(t.owner),1),e("td",ue,o(t.name),1),e("td",ge,o(a.moment(t.created_at).format("MMMM DD Y")),1),e("td",pe,[e("a",{href:"/report/"+t.id,type:"button",target:"_blank",class:"mr-4 font-medium text-green-600 dark:text-orange-500 hover:underline"},he,8,me)])]))),256))])]),e("div",fe,[f(h,{links:s.locals.links},null,8,["links"])])])}const ze=k(N,[["render",_e]]);export{ze as default};
