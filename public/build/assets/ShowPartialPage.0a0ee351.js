import{L as M}from"./MunicipalityLayout.87377acb.js";import{_ as C}from"./Table.90299598.js";import{C as S}from"./ContentBox.b05d3d4e.js";import{_ as j,a as B}from"./AddIncident.db455ad4.js";import{_ as P}from"./QuantityModal.c58d5f9b.js";import{c as f,g as x,U as g,m as b,r as l,o as n,d as t,t as r,b as i,q as h,F as y,f as p,e as I}from"./app.4da21ac3.js";import{_ as Q}from"./UnfinishModal.697814e9.js";import{h as L}from"./moment.9709ab41.js";import{_ as U}from"./PersonInfoModal.015e8447.js";import{_ as $}from"./PersonalModal.8e06d0db.js";import{_ as z}from"./_plugin-vue_export-helper.cdc0426e.js";import"./PendingTransactions.6e546873.js";import"./Dropdown.f2c554b9.js";import"./eprris.ccf75d97.js";/* empty css                                                                          */import"./dialog.03b76927.js";import"./transition.11289989.js";import"./EquipmentList.141cc032.js";import"./combobox.d95f5ac2.js";import"./ProvinceList.3d2bb4c3.js";import"./EditHistory.8338df00.js";const H={layout:M,components:{ContentBox:S,Table:C,newIncident:j,AddIncident:B,UnifinishModal:Q,PersonInfoModal:U,PersonalModal:$,QuantityModal:P},props:{equipments:Object,incident:String,equipments_drowpdown:Object,provinces:Object,summary:String,detail_id:String},setup(){return{tableHeader:[{name:"equipment"},{name:"municipality"},{name:"requested quantity"},{name:"borrowed quantity"},{name:"time"},{name:"action"}],getQuantity:(o,a)=>{axios.post("/api/confirm-quantity",{quantity:o.value,transaction:a}).then(_=>{}),g.Inertia.reload()},pop:o=>{alert(o)},back:()=>{window.history.back()},moment:L,accept:(o,a)=>{console.log(a),axios.post("/api/accepted/"+a.id,{quantity:o.value}).then(_=>{g.Inertia.reload(),b.emit("accepted")})},deny:async(o,a)=>{console.log("inside"),b.emit("deny")}}}},N={class:"flex flex-row w-fit text-xl px-2 rounded border-2 border-gray-400"},O=t("button",null,[t("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6 text-gray-700"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M19.5 12h-15m0 0l6.75 6.75M4.5 12l6.75-6.75"})])],-1),V=t("span",{class:"cursor-pointer text-gray-700"},"back",-1),A=[O,V],D={class:"flex flex-row justify-between m-4 z-10"},F={class:"text-lg font-bold"},T={class:"table-auto pt-2 w-full text-sm border-x border-orange-200 text-gray-500 dark:text-gray-400 z-0"},E={class:"text-xs text-gray-700 text-center uppercase bg-orange-300 dark:bg-gray-700 dark:text-gray-400"},G={class:"max-h-full even:bg-orange-200 bg-white border-b dark:bg-gray-800 dark:border-gray-700"},J={scope:"row",class:"text-center p-4"},K={class:"text-center"},R={class:"text-center"},W={class:"text-center"},X={class:"text-center"},Y={key:0,class:"text-center"},Z={class:"flex flex-row justify-center"},tt=t("button",{class:"text-sm hover:bg-green-600 mx-2 text-center bg-green-500 px-2 rounded text-white tracking-wide"}," Accept ",-1),et={key:1,class:"text-center"},ot={class:"flex flex-row justify-center space-x-3"};function nt(d,c,m,s,w,k){const o=l("Quantity-modal"),a=l("PersonalModal"),_=l("person-info-modal"),q=l("UnifinishModal"),v=l("Content-box");return n(),f(v,null,{default:x(()=>[t("div",N,[t("div",{onClick:c[0]||(c[0]=(...e)=>s.back&&s.back(...e)),class:"flex flex-row"},A)]),t("div",D,[t("span",F,r(m.incident),1)]),t("table",T,[t("thead",E,[t("tr",null,[(n(!0),i(y,null,h(s.tableHeader,(e,u)=>(n(),i("th",{scope:"col",class:"py-3 px-10 capitalize",key:u},r(e.name),1))),128))])]),t("tbody",null,[(n(!0),i(y,null,h(m.equipments,(e,u)=>(n(),i("tr",G,[t("td",J,r(e.name),1),t("td",K,r(e.municipality),1),t("td",R,r(e.quantity),1),t("td",W,r(e.acquired),1),t("td",X,r(s.moment(e.created_at).format("LT")),1),e.status=="pending"?(n(),i("td",Y,[t("div",Z,[p(o,{muni:e,onSubmit:s.accept},{trigger:x(()=>[tt]),_:2},1032,["muni","onSubmit"]),p(a,{equipment_borrow:e.id,name:"Decline",onSubmit:c[1]||(c[1]=st=>s.deny(d.id,d.reason))},null,8,["equipment_borrow"])])])):(n(),i("td",et,[t("div",ot,[p(_,{body:e},null,8,["body"]),e.status==="accepted"?(n(),f(q,{key:0,body:e},null,8,["body"])):I("",!0)])]))]))),256))])])]),_:1})}const Ct=z(H,[["render",nt]]);export{Ct as default};
