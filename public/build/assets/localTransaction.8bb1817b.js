import{_ as L}from"./MunicipalityList.a181f381.js";import{_ as M}from"./EquipmentList.141cc032.js";import{o as d,b as u,d as t,t as a,F as $,q as S,c as E,r as p,s as x,H as z,a as f,B as P,D as C,f as h,e as v,C as N,R as k}from"./app.4da21ac3.js";import{L as R}from"./MunicipalityLayout.87377acb.js";import{_ as q}from"./_plugin-vue_export-helper.cdc0426e.js";import{_ as j}from"./ProvinceList.3d2bb4c3.js";import"./combobox.d95f5ac2.js";import"./transition.11289989.js";import"./PendingTransactions.6e546873.js";import"./Dropdown.f2c554b9.js";import"./eprris.ccf75d97.js";const B={scope:"row",class:"py-4 px-2 font-medium text-gray-900 whitespace-nowrap dark:text-white text-center"},F={class:"py-4 px-2 text-center"},H={class:"py-4 px-2 text-center"},V={class:"py-4 px-2 text-center"},X={class:"py-4 px-2 text-center"},A={__name:"EquipmentModelList",props:{equipment:Object},setup(o){return(l,n)=>(d(),u("tr",{onClick:n[0]||(n[0]=s=>l.$emit("picked",o.equipment)),class:"bg-white border-b dark:bg-gray-800 dark:border-gray-700 cursor-pointer hover:bg-slate-200"},[t("th",B,a(o.equipment.serial_number),1),t("td",F,a(o.equipment.model_number),1),t("td",H,a(o.equipment.code),1),t("td",V,a(o.equipment.unit),1),t("td",X,a(o.equipment.asset_id),1)]))}},D={components:{EquipmentModelList:A},props:{equipments:Array},methods:{pick(o){this.$emit("picked",o)}},setup(){return{}}},O={class:"overflow-auto relative items-center"},T={class:"w-full text-sm text-left text-gray-500 dark:text-gray-400 overflow-auto"},Q=t("thead",{class:"static text-xs text-gray-700 uppercase bg-gray-50 dark:bg-gray-700 dark:text-gray-400"},[t("tr",null,[t("th",{scope:"col",class:"py-3 px-2 text-center"}," serial number "),t("th",{scope:"col",class:"py-3 px-2 text-center"}," model number "),t("th",{scope:"col",class:"py-3 px-2 text-center"}," Code "),t("th",{scope:"col",class:"py-3 px-2 text-center"}," unit "),t("th",{scope:"col",class:"py-3 px-2 text-center"}," asset ID ")])],-1),I={class:""};function Y(o,l,n,s,_,c){const r=p("EquipmentModelList");return d(),u("div",O,[t("table",T,[Q,t("tbody",I,[(d(!0),u($,null,S(n.equipments,m=>(d(),E(r,{key:m.id,equipment:m,onPicked:c.pick},null,8,["equipment","onPicked"]))),128))])])])}const G=q(D,[["render",Y]]),J={props:{receipt:Object},setup(){return{}}},K={class:"table-auto"},U={class:"cursor-pointer"},W={class:"flex flex-col space-y-2"},Z={class:"flex flex-col"},tt={class:"mb-1 text-md font-bold leading-normal dark:text-white text-slate-700"},et=x(" Equipment: "),st={class:"text-xs text-zinc-900 leading-tight"},ot={class:"flex flex-col"},nt={class:"mb-1 text-md font-bold leading-normal dark:text-white text-slate-700"},it=x(" Municipality: "),lt={class:"text-xs text-zinc-900 leading-tight"},ct={class:"flex flex-col"},at={class:"mb-1 text-sm font-semibold leading-normal dark:text-white text-slate-700"},rt=x(" Serial Number: "),dt={class:"text-xs text-zinc-900 leading-tight"},pt={class:"flex flex-col"},ut={class:"mb-1 text-sm font-semibold leading-normal dark:text-white text-slate-700"},mt=x(" Model Number: "),_t={class:"text-xs text-zinc-900 leading-tight"};function ft(o,l,n,s,_,c){return d(),u("table",K,[t("tbody",U,[t("tr",W,[t("td",Z,[t("span",tt,[et,t("span",st,a(n.receipt.equipment),1)])]),t("td",ot,[t("span",nt,[it,t("span",lt,a(n.receipt.municipality),1)])]),t("td",ct,[t("span",at,[rt,t("span",dt,a(n.receipt.serial),1)])]),t("td",pt,[t("span",ut,[mt,t("span",_t,a(n.receipt.model),1)])])])])])}const ht=q(J,[["render",ft]]),xt={layout:R,components:{MunicipalityList:L,EquipmentList:M,Head:z,EquipmentModelLists:G,Receipt:ht,ProvinceList:j},props:{municipalities:[Array,Object],provinces:Array},setup(o){const l=f(!1);let n=f("Equipment Name"),s=f({}),_=f({});const c=f({equipment:"",municipality:"",serial:"",model:""});let r=P({owner:"",equipment_id:"",quantity:null});const m=e=>{c.value.equipment=e.equipment_name,c.value.model=e.model_number,c.value.serial=e.serial_number,r.equipment_id=e.id,n=e.equipment_name,k.post(`http://127.0.0.1:8000/equipmentList/${e.equipment_name}`).then(i=>{s.value=i}).catch(i=>console.log(i))},b=e=>{c.value.municipality=e.municipality,r.owner=e.id,k.post(`http://127.0.0.1:8000/getEquipment/${e.municipality}`).then(i=>{_.value=i,console.log(i)}).catch(i=>console.log(i))},g=e=>{k.get(`http://127.0.0.1:8000/transactions/create/${e.id}`).then(i=>console.log(i))},y=e=>{c.value.model=e.model_number,c.value.serial=e.serial_number,r.equipment_id=e.id},w=()=>{r.post(route("borrowing.store"),{onFinish:()=>r.reset("equipment_id","municipality_id","quantity"),preserveScroll:!0})};return C(l,e=>{const i=o.municipalities;e&&(console.log("true"),console.log(i)),e||console.log("false")}),{Xtransaction:l,name:n,list:s,receipt:c,allEquipment:_,form:r,getEquipment:m,getMunicipality:b,pick:y,getProvince:g,submit:w}}},bt={class:"container p-4"},gt={class:"flex flex-1 w-full flex-col sm:flex-row gap-4"},yt={class:"z-0 h-full p-5 rounded-lg bg-white w-full sm:w-8/12"},wt={key:0,class:"alert"},vt={class:"grid grid-rows-1 md:grid-rows-3 gap-4"},kt={class:"mb-3 w-80 z-40"},qt=t("label",{class:"block text-gray-700 text-sm font-bold mb-2",for:"password"}," municipality ",-1),$t={key:0,class:"mb-3 w-80 z-20"},Et=t("label",{class:"block text-gray-700 text-sm font-bold mb-2",for:"password"}," Province ",-1),Lt={class:"mb-3 w-80 z-0"},Mt=t("label",{class:"block text-gray-700 text-sm font-bold mb-2",for:"password"}," Equipment ",-1),St=t("div",{class:"mb-3 w-40"},[t("label",{class:"block text-gray-700 text-sm font-bold mb-2",for:"password"}," Quantity "),t("input",{vModel:"form.quantity",class:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",id:"username",type:"number",placeholder:"Quantity"})],-1),zt={class:"flex items-center justify-between pt-2 pb-0"},Pt=t("button",{class:"bg-zinc-600 hover:bg-zinc-700 text-white font-bold py-2 px-4 rounded-lg focus:outline-none focus:shadow-outline",type:"submit"}," Request ",-1),Ct={for:"default-toggle",class:"inline-flex relative items-center cursor-pointer"},Nt=t("div",{class:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-blue-600"},null,-1),Rt=t("span",{class:"ml-3 text-sm font-medium text-gray-900 dark:text-gray-300"},"Cross Transaction",-1),jt={class:"flex flex-col rounded-lg bg-white sm:w-4/12 p-4"},Bt={class:"grid grid-cols-1 gap-2 m-2"},Ft=t("h4",{class:"text-center font-bold text-lg"},"Your Request",-1),Ht={class:"h-fit overflow-x-auto scrollbar"},Vt={class:"flex h-80 p-4 border my-2 shadow-lg content-center w-full bg-white rounded-2xl"},Xt={class:"flex flex-col space-y-2 w-full"},At={class:"flex flex-row justify-between"},Dt={class:"pl-2 font-bold"},Ot=t("input",{class:"border-2 border-bg-slate-200 bg-white rounded-md px-2",placeholder:"Search here ..."},null,-1),Tt={class:"h-fit overflow-auto scrollbar"};function Qt(o,l,n,s,_,c){const r=p("Head"),m=p("MunicipalityList"),b=p("ProvinceList"),g=p("EquipmentList"),y=p("Receipt"),w=p("EquipmentModelLists");return d(),u($,null,[h(r,{title:"Transaction"}),t("div",bt,[t("div",gt,[t("div",yt,[o.$page.props.flash.message?(d(),u("div",wt,a(o.$page.props.flash.message),1)):v("",!0),t("form",{class:"px-8",onSubmit:l[1]||(l[1]=N(e=>s.form.post(o.route("borrowing.store")),["prevent"]))},[t("div",vt,[t("div",kt,[qt,h(m,{onSubmit:s.getMunicipality,contents:n.municipalities},null,8,["onSubmit","contents"])]),s.Xtransaction?(d(),u("div",$t,[Et,h(b,{onSubmit:s.getProvince,contents:n.provinces},null,8,["onSubmit","contents"])])):v("",!0),t("div",Lt,[Mt,h(g,{onSubmit:s.getEquipment,contents:s.allEquipment.data},null,8,["onSubmit","contents"])]),St]),t("div",zt,[Pt,t("label",Ct,[t("input",{type:"checkbox",onClick:l[0]||(l[0]=e=>s.Xtransaction=!s.Xtransaction),id:"default-toggle",class:"sr-only peer"}),Nt,Rt])])],32)]),t("div",jt,[t("div",Bt,[Ft,t("div",Ht,[h(y,{receipt:s.receipt},null,8,["receipt"])])])])]),t("div",Vt,[t("div",Xt,[t("div",At,[t("span",Dt,a(s.name),1),Ot]),t("div",Tt,[s.allEquipment?(d(),E(w,{key:0,equipments:s.list.data,onPicked:s.pick},null,8,["equipments","onPicked"])):v("",!0)])])])])],64)}const oe=q(xt,[["render",Qt]]);export{oe as default};
