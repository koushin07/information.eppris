import{C as B}from"./ContentBox.b05d3d4e.js";import{L as V}from"./MunicipalityLayout.87377acb.js";import{H as F,B as U,a as g,b as r,f as u,g as x,F as h,R as q,U as A,r as y,o as a,d as e,q as k,t as b,s as I,C as N,z as p,W as m,e as S}from"./app.4da21ac3.js";import{B as E}from"./BorrowHistory.8d0213b9.js";import{I as H}from"./IncidentReport.f66bfdda.js";import{_ as R}from"./_plugin-vue_export-helper.cdc0426e.js";import"./PendingTransactions.6e546873.js";import"./Dropdown.f2c554b9.js";import"./eprris.ccf75d97.js";const T={layout:V,components:{ContentBox:B,Head:F,BorrowHistory:E,IncidentReport:H},props:{notifications:Array,unfinish:Array,borrowings:Array,reports:Object},setup(){const _=U({id:null,equipment_name:"",serial_number:null,unit:null,code:"",model_number:null,asset_id:null,quantity:null}),s=async()=>{_.post(route("api.attrs"),{onError:n=>{alert(Object.values(n))},preserveScroll:!0,onFinish:()=>{o.value=!o.value}})},l=g(""),o=g(!1),v=g(!1);return{accept:async(n,i,t,d,c)=>{await q.post("/api/accepted",{quantity:c,equipment:n,borrower_id:i,notif_id:t,municipality:d}).then(j=>{A.Inertia.reload()})},deny:async(n,i,t,d,c)=>{console.log(c),await q.post("/api/deny",{quantity:c,equipment:n,borrower_id:i,notif_id:t,municipality:d}).then(j=>{A.Inertia.reload({only:["notifications"]})})},equipmentAttr:_,toggleForm:o,openForm:(n,i)=>{_.equipment_name=n,_.id=i,l.value=n,o.value=!o.value},selectedEquipment:l,handleSubmit:s,toggleBorrowing:v}}},z={class:"flex flex-col col-span-2 overflow-hidden h-full"},D={key:0,class:"text-lg font-semibold font-sans text-center"},L={key:1,class:"text-lg font-semibold font-sans text-center"},M={class:"flex flex-col justify-between overflow-y-auto border-2 rounded-lg space-y-2 scrollbar"},O={class:"grid grid-cols-1"},P={class:"font-bold text-sm text-gray-700 text-start"},Q={class:"font-bold text-sm text-gray-600 text-start hover:text-slate-900"},W={class:"text-xs"},G={class:"flex flex-col justify-between space-y-2"},J=["onClick"],K=["onClick"],X=e("h1",{class:"text-semibold text-center tex-lg pb-10"},"Unfinish Transaction",-1),Y={class:"grid grid-cols-5 gap-5 place-content-center"},Z={class:"flex flex-col z-0 justify-between col-span-2"},$={class:"flex flex-col overflow-hidden h-[450px]"},ee={class:"flex flex-col justify-between overflow-y-auto border-2 rounded-lg space-y-2 scrollbar"},te=["onClick"],oe={class:"grid grid-cols-1 text-start"},se={class:"font-bold text-base text-gray-700 uppercase"},ne={class:"text-xs text-gray-700 uppercase"},le={class:"flex flex-col z-0 h-full justify-between col-span-3"},re={class:"flex flex-col overflow-hidden h-full"},ae={class:"flex flex-row justify-between"},ie={class:"font-bold text-2xl font-sans antialiased capitalize"},de={class:"grid grid-cols-2 gap-10 h-full w-full"},ce={class:"grid grid-rows-3 gap-10"},ue={class:"flex flex-col"},be=e("label",{class:"text-sm font-bold"},"Serial Number",-1),pe={class:"flex flex-col"},me=e("label",{class:"text-sm font-bold"},"Code",-1),_e={class:"flex flex-col"},fe=e("label",{class:"text-sm font-bold"},"Asset ID",-1),xe={class:"grid grid-rows-3 gap-10"},ye={class:"flex flex-col"},ge=e("label",{class:"text-sm font-bold"},"Unit",-1),he={class:"flex flex-col"},ve=e("label",{class:"text-sm font-bold"},"Model Number",-1),we={class:"flex flex-col"},qe=e("label",{class:"text-sm font-bold"},"Quantity",-1),Ae=e("div",{class:"flex justify-end col-span-2"},[e("button",{type:"submit",class:"bg-orange-500 px-11 py-2 rounded-xl hover:bg-orange-700"},"save")],-1),ke=e("h1",{class:"text-semibold text-center tex-lg pb-10"}," Equipment Borrow type",-1);function Ce(_,s,l,o,v,C){const w=y("Head"),f=y("Content-box"),n=y("Borrow-history"),i=y("Incident-report");return a(),r(h,null,[u(w,{title:"Tansaction"}),u(f,null,{default:x(()=>[e("div",z,[l.notifications.length===0?(a(),r("span",D,"No Equipment Request Recieve")):(a(),r("span",L,"Requests")),e("div",M,[(a(!0),r(h,null,k(l.notifications,(t,d)=>(a(),r("div",{key:d,class:"rounded-lg p-4 relative text-center flex justify-between pr-2 border-b pb-2 border-red-200 last:border-transparent"},[e("div",O,[e("span",P,b(t.data.borrower[0].municipality),1),e("button",Q,[I(b(t.data.equipment.name)+": ",1),e("span",W,b(t.data.quantity),1)])]),e("div",G,[e("button",{onClick:c=>o.accept(t.data.equipment.id,t.data.borrower_id,t.id,t.data.borrower[0].municipality,t.data.quantity),class:"text-sm hover:bg-green-600 text-center bg-green-500 px-2 rounded-lg text-white tracking-wide"},"Accept",8,J),e("button",{onClick:c=>o.deny(t.data.equipment.id,t.data.borrower_id,t.id,t.data.borrower[0].municipality,t.data.quantity),class:"text-sm hover:bg-red-600 text-center bg-red-500 px-2 rounded-lg text-white tracking-wide"},"Deny ",8,K)])]))),128))])])]),_:1}),u(f,null,{default:x(()=>[X,e("div",Y,[e("div",Z,[e("div",$,[e("div",ee,[(a(!0),r(h,null,k(l.unfinish,(t,d)=>(a(),r("button",{key:d,onClick:c=>o.openForm(t.name,t.id),class:"flex justify-between border-b p-4 hover:bg-slate-200 border-grey-200 last:border-transparent"},[e("div",oe,[e("span",se,b(t.municipality),1),e("span",ne,b(t.name),1)])],8,te))),128))])])]),e("div",le,[e("div",re,[o.toggleForm?(a(),r("form",{key:0,onSubmit:s[6]||(s[6]=N((...t)=>o.handleSubmit&&o.handleSubmit(...t),["prevent"])),class:"flex flex-col animate-fade-in-down justify-between overflow-y-auto border-2 rounded-lg space-y-2 scrollbar p-5"},[e("div",ae,[e("h1",ie,b(o.equipmentAttr.equipment_name),1)]),e("div",de,[e("div",ce,[e("div",ue,[be,p(e("input",{type:"number","onUpdate:modelValue":s[0]||(s[0]=t=>o.equipmentAttr.serial_number=t),class:"border-b-2 border-0 px-2 py-1 focus:ring-0 focus:border-b-blue-600"},null,512),[[m,o.equipmentAttr.serial_number]])]),e("div",pe,[me,p(e("input",{type:"text","onUpdate:modelValue":s[1]||(s[1]=t=>o.equipmentAttr.code=t),class:"border-b-2 border-0 px-2 py-1 focus:ring-0 focus:border-b-blue-600"},null,512),[[m,o.equipmentAttr.code]])]),e("div",_e,[fe,p(e("input",{type:"number","onUpdate:modelValue":s[2]||(s[2]=t=>o.equipmentAttr.asset_id=t),class:"border-b-2 border-0 px-2 py-1 focus:ring-0 focus:border-b-blue-600"},null,512),[[m,o.equipmentAttr.asset_id]])])]),e("div",xe,[e("div",ye,[ge,p(e("input",{type:"number","onUpdate:modelValue":s[3]||(s[3]=t=>o.equipmentAttr.unit=t),class:"border-b-2 border-0 px-2 py-1 focus:ring-0 focus:border-b-blue-600"},null,512),[[m,o.equipmentAttr.unit]])]),e("div",he,[ve,p(e("input",{type:"number","onUpdate:modelValue":s[4]||(s[4]=t=>o.equipmentAttr.model_number=t),class:"border-b-2 border-0 px-2 py-1 focus:ring-0 focus:border-b-blue-600"},null,512),[[m,o.equipmentAttr.model_number]])]),e("div",we,[qe,p(e("input",{type:"number","onUpdate:modelValue":s[5]||(s[5]=t=>o.equipmentAttr.quantity=t),class:"border-b-2 border-0 px-2 py-1 focus:ring-0 focus:border-b-blue-600"},null,512),[[m,o.equipmentAttr.quantity]])])]),Ae])],32)):S("",!0)])])])]),_:1}),u(f,null,{default:x(()=>[ke,u(n,{borrowings:l.borrowings},null,8,["borrowings"])]),_:1}),u(f,null,{default:x(()=>[u(i,{reports:l.reports},null,8,["reports"])]),_:1})],64)}const He=R(T,[["render",Ce]]);export{He as default};
