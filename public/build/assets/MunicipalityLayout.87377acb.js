import{a as w,r as f,o as n,b as a,d as e,e as g,w as z,f as s,g as i,t as p,h as j,n as b,u as q,i as L,L as C,H as B,j as T,k as x,l as R,m as N,p as S,F as M,q as $,s as k,v as V,x as E}from"./app.4da21ac3.js";import{P as H}from"./PendingTransactions.6e546873.js";import{_ as I}from"./Dropdown.f2c554b9.js";import{_ as D}from"./eprris.ccf75d97.js";import{_ as P}from"./_plugin-vue_export-helper.cdc0426e.js";const F={class:"relative"},K=e("svg",{class:"w-5 text-orange-900 h-5","aria-hidden":"true",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{d:"M10 2a6 6 0 00-6 6v3.586l-.707.707A1 1 0 004 14h12a1 1 0 00.707-1.707L16 11.586V8a6 6 0 00-6-6zM10 18a3 3 0 01-3-3h6a3 3 0 01-3 3z"})],-1),A={key:0,"aria-hidden":"true",class:"absolute top-0 right-0 inline-block w-3 h-3 transform translate-x-1 -translate-y-1 bg-red-600 border-2 border-white rounded-full dark:border-gray-800"},G={key:0,class:"absolute right-0 w-56 p-2 mt-2 space-y-2 text-gray-600 bg-white border border-gray-100 rounded-md shadow-md dark:text-gray-300 dark:border-gray-700 dark:bg-gray-700"},J={class:"flex"},O=e("span",null,"Equipment Request",-1),Q={class:"inline-flex items-center justify-center px-2 py-1 text-xs font-bold leading-none text-red-600 bg-red-100 rounded-full dark:text-red-100 dark:bg-red-600"},U={class:"flex"},W={class:"inline-flex items-center justify-between w-full px-2 py-1 text-sm font-semibold transition-colors duration-150 rounded-md hover:bg-gray-100 hover:text-gray-800 dark:hover:bg-gray-800 dark:hover:text-gray-200",href:"#"},X=e("span",null,"Request Reconfirmation",-1),Y={class:"inline-flex items-center justify-center px-2 py-1 text-xs font-bold leading-none text-red-600 bg-red-100 rounded-full dark:text-red-100 dark:bg-red-600"},Z={__name:"Notification",props:{reconfirm:Number,request:Number},setup(o){const r=w(!1);return(c,t)=>{const h=f("inertia-link");return n(),a("li",F,[e("button",{class:"relative align-middle rounded-md focus:outline-none focus:shadow-outline-purple",onClick:t[0]||(t[0]=m=>r.value=!r.value),onKeydown:t[1]||(t[1]=z(m=>r.value=!1,["escape"])),"aria-label":"Notifications","aria-haspopup":"true"},[K,o.request||o.reconfirm?(n(),a("span",A)):g("",!0)],32),r.value?(n(),a("ul",G,[e("li",J,[s(h,{class:"inline-flex items-center justify-between w-full px-2 py-1 text-sm font-semibold transition-colors duration-150 rounded-md hover:bg-gray-100 hover:text-gray-800 dark:hover:bg-gray-800 dark:hover:text-gray-200",href:"/municipality/partials"},{default:i(()=>[O,e("span",Q,p(o.request),1)]),_:1})]),e("li",U,[e("a",W,[X,e("span",Y,p(o.reconfirm),1)])])])):g("",!0)])}}},ee={class:"relative px-6 py-3"},te={__name:"ResponsiveNavLink",props:{active:Boolean,href:String,as:String},setup(o){const r=o,c=j(()=>r.active?"absolute inset-y-0 left-0 w-1 bg-purple-600 rounded-tr-lg rounded-br-lg":"absolute inset-y-0 left-0 w-1 mr-1 rounded-tr-lg rounded-br-lg");return(t,h)=>(n(),a("li",ee,[e("span",{class:b(q(c)),"aria-hidden":"true"},null,2),s(q(C),{href:o.href,class:"inline-flex items-center w-full text-sm font-semibold text-gray-800 transition-colors duration-150 hover:text-gray-800 dark:hover:text-gray-200 dark:text-gray-100"},{default:i(()=>[L(t.$slots,"default")]),_:3},8,["href"])]))}};const oe={components:{Head:B,Notification:Z,Link:C,PendingTransactions:H,Dropdown:I,ResponsiveNavLink:te},setup(){const o=w(!1),r=w(),c=T();console.log(`this is user ${x().props.value.auth.user.id}`);const t=[{name:"Equipment",url:"/municipality/inventory"},{name:"incidents",url:"/municipality/request"},{name:"Forms",url:"/municipality/inventory/create"},{name:"Transactions",url:"/municipality/transaction"}],h=[{name:"Inventory",url:"/municipality/inventory"}],m=[{name:"My Requests",url:"/municipality/request",hasNotif:!1},{name:"In-Bound Requests",url:"/municipality/partials",hasNotif:!1}],{fetchPendingNotification:l,fetchReconfirmationotification:_,notification:y}=R();return N.on("*",()=>{console.log("this is emmitter"),l()}),S(()=>{window.Echo.private(`reconfirm.${x().props.value.auth.user.id}`).listen(".reconfirm",v=>{c.info("Transaction Completed",{timeout:1e4,icon:"fa-regular fa-envelope"})}),l(),_(),window.Echo.private(`borrowing.${x().props.value.auth.user.id}`).listen(".borrow.recieved",v=>{N.emit("refresh-approvals"),l(),c.info("Equipment Request Recieved",{timeout:5e3,icon:"fa-regular fa-envelope"})})}),{navs:t,equipmentManagement:h,transactions:m,notification:y,show:o,showTransaction:r}}},u=o=>(V("data-v-f3c70d4c"),o=o(),E(),o),re={class:"flex h-screen bg-gray-50 dark:bg-gray-900"},ne={class:"z-20 hidden w-64 overflow-y-auto bg-white dark:bg-gray-800 md:block flex-shrink-0"},ae={class:"py-4 text-gray-500 dark:text-gray-400"},se={class:"grid place-content-center w-30 h-10"},ie=u(()=>e("img",{src:D},null,-1)),le={class:"mt-20 flex flex-col space-y-2"},de={class:"relative px-6 py-3"},ce=u(()=>e("span",{class:"inline-flex items-center"},[e("svg",{class:"w-5 h-5",fill:"none","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{d:"M4 5a1 1 0 011-1h14a1 1 0 011 1v2a1 1 0 01-1 1H5a1 1 0 01-1-1V5zM4 13a1 1 0 011-1h6a1 1 0 011 1v6a1 1 0 01-1 1H5a1 1 0 01-1-1v-6zM16 13a1 1 0 011-1h2a1 1 0 011 1v6a1 1 0 01-1 1h-2a1 1 0 01-1-1v-6z"})]),e("span",{class:"ml-1"},"Transactions")],-1)),ue=u(()=>e("path",{"fill-rule":"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z","clip-rule":"evenodd"},null,-1)),he=[ue],fe={key:0,class:"dropdown-content p-2 mt-2 space-y-2 overflow-hidden text-sm font-medium text-gray-500 rounded-md shadow-inner bg-gray-50 dark:text-gray-400 dark:bg-gray-900","aria-label":"submenu"},pe={class:"px-2 py-1 transition-colors duration-150 hover:text-gray-800 dark:hover:text-gray-200"},me={class:"relative px-6 py-3"},ge=u(()=>e("span",{class:"inline-flex items-center"},[e("svg",{class:"w-5 h-5",fill:"none","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{d:"M4 5a1 1 0 011-1h14a1 1 0 011 1v2a1 1 0 01-1 1H5a1 1 0 01-1-1V5zM4 13a1 1 0 011-1h6a1 1 0 011 1v6a1 1 0 01-1 1H5a1 1 0 01-1-1v-6zM16 13a1 1 0 011-1h2a1 1 0 011 1v6a1 1 0 01-1 1h-2a1 1 0 01-1-1v-6z"})]),e("span",{class:"ml-1"},"Equipment Management")],-1)),_e=u(()=>e("path",{"fill-rule":"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z","clip-rule":"evenodd"},null,-1)),ye=[_e],ve={key:0,class:"dropdown-content p-2 mt-2 space-y-2 overflow-hidden text-sm font-medium text-gray-500 rounded-md shadow-inner bg-gray-50 dark:text-gray-400 dark:bg-gray-900","aria-label":"submenu"},xe={class:"px-2 py-1 transition-colors duration-150 hover:text-gray-800 dark:hover:text-gray-200"},we={class:"flex flex-col flex-1 w-full"},be={class:"z-10 py-4 bg-white shadow-md dark:bg-gray-800"},ke={class:"container flex items-center justify-end h-full px-6 mx-auto text-purple-600 dark:text-purple-300"},qe={class:"flex items-center flex-shrink-0 space-x-6"},Ne={class:"inline-flex items-center text-gray-500 bg-white border border-gray-300 focus:outline-none hover:bg-gray-100 focus:ring-4 focus:ring-gray-200 font-medium rounded-lg text-sm px-3 py-1.5 dark:bg-gray-800 dark:text-gray-400 dark:border-gray-600 dark:hover:bg-gray-700 dark:hover:border-gray-600 dark:focus:ring-gray-700",type:"button"},Me={class:"text-orange-600"},$e=u(()=>e("svg",{class:"ml-2 w-3 h-3","aria-hidden":"true",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"})],-1)),Le={class:"py-1 text-sm text-gray-700 dark:text-gray-200"},Ce=k(" Logout"),ze={class:"h-full bg-gray-50 overflow-y-auto"};function je(o,r,c,t,h,m){const l=f("inertia-link"),_=f("Notification"),y=f("Link"),v=f("Dropdown");return n(),a("div",re,[e("aside",ne,[e("div",ae,[e("div",se,[s(l,{href:"/municipality/request"},{default:i(()=>[ie]),_:1})]),e("ul",le,[e("li",de,[e("button",{class:"dropdown-label inline-flex items-center justify-between w-full text-sm font-semibold transition-colors duration-150 hover:text-gray-800 dark:hover:text-gray-200",onClick:r[0]||(r[0]=d=>t.showTransaction=!t.showTransaction)},[ce,(n(),a("svg",{class:b(["w-4 h-4",t.showTransaction?"rotate-180":""]),"aria-hidden":"true",fill:"currentColor",viewBox:"0 0 20 20"},he,2))]),t.showTransaction?(n(),a("ul",fe,[(n(!0),a(M,null,$(t.transactions,d=>(n(),a("li",pe,[s(l,{class:"w-full",href:d.url},{default:i(()=>[k(p(d.name),1)]),_:2},1032,["href"])]))),256))])):g("",!0)]),e("li",me,[e("button",{class:"dropdown-label inline-flex items-center justify-between w-full text-sm font-semibold transition-colors duration-150 hover:text-gray-800 dark:hover:text-gray-200",onClick:r[1]||(r[1]=d=>t.show=!t.show)},[ge,(n(),a("svg",{class:b(["w-4 h-4",t.show?"rotate-180":""]),"aria-hidden":"true",fill:"currentColor",viewBox:"0 0 20 20"},ye,2))]),t.show?(n(),a("ul",ve,[(n(!0),a(M,null,$(t.equipmentManagement,d=>(n(),a("li",xe,[s(l,{class:"w-full",href:d.url},{default:i(()=>[k(p(d.name),1)]),_:2},1032,["href"])]))),256))])):g("",!0)])])])]),e("div",we,[e("header",be,[e("div",ke,[e("ul",qe,[s(_,{reconfirm:t.notification.reconfirm,request:t.notification.request},null,8,["reconfirm","request"]),s(v,null,{trigger:i(()=>[e("button",Ne,[e("span",Me,p(o.$page.props.auth.user.assign_office.municipality),1),$e])]),content:i(()=>[e("ul",Le,[e("li",null,[s(y,{href:o.route("logout"),method:"post",as:"Link",class:"block py-2 px-4 hover:bg-gray-100 dark:hover:bg-gray-600 dark:hover:text-white cursor-pointer"},{default:i(()=>[Ce]),_:1},8,["href"])])])]),_:1})])])]),e("main",ze,[L(o.$slots,"default",{},void 0,!0)])])])}const Ee=P(oe,[["render",je],["__scopeId","data-v-f3c70d4c"]]);export{Ee as L};
